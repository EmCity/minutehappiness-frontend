function onYouTubeIframeAPIReady(){var t,n,i=new Vue({el:"#main",data:{videoCollection:[],videoIndex:-1,youTubeParams:null,playing:!0,music:!0},computed:{video:function(){return this.videoIndex===-1?null:this.videoCollection[this.videoIndex]}},mounted:function(){this.initYouTubeMusic(this.startVideoSequence)},methods:{fetchVideoParams:function(n){this.$http.post(urls.getNewVideoParams).then(function(t){this.youTubeParams=t.body.youTubeParams;this.videoCollection=t.body.videos;console.log("Amount of videos retrieved: "+this.videoCollection.length);n()})},initYouTubePlayer:function(){var n=this;t=new YT.Player("youtube-video",{playerVars:n.youTubeParams,events:{onReady:function(t){$("#youtube-video").addClass("embed-responsive-item");$(window).trigger("resize");t.target.mute();n.playNextVideo(t.target)},onStateChange:function(t){switch(t.data){case YT.PlayerState.ENDED:n.video.playing===!0&&n.playNextVideo(t.target);break;case YT.PlayerState.PLAYING:n.video.playing=!0}}}})},initYouTubeMusic:function(t){n=new YT.Player("youtube-music",{videoId:"-96SMUqYA1k",playersVars:{controls:1,disablekb:1,hl:"en",rel:0,showinfo:0,loop:1,playlist:"-96SMUqYA1k"},events:{onReady:function(){t()},onStateChange:function(n){switch(n.data){case YT.PlayerState.ENDED:n.target.playVideo()}}}})},playNextVideo:function(n){this.videoIndex<this.videoCollection.length-1?(this.videoIndex++,n.loadVideoById({videoId:this.video.youTubeId,startSeconds:this.video.startSeconds,endSeconds:this.video.endSeconds})):this.endVideoSequence()},startVideoSequence:function(){console.log("Starting");this.videoIndex=-1;this.playing=!0;n.playVideo();this.fetchVideoParams(this.initYouTubePlayer)},endVideoSequence:function(){console.log("Ended");this.playing=!1;n.stopVideo();$("#youtube-video").remove();$("#youtube-video-container").append('<div id="youtube-video"><\/div>')},toggleYouTubeMusic:function(){this.music===!0?n.pauseVideo():n.playVideo();this.music=!this.music}}});(function(n){n(function(){n("#menu-toggle").click(function(t){if(t.preventDefault(),n("#wrapper").toggleClass("toggled"),n("#wrapper").hasClass("toggled")){var i=n(".negativ-margin");i.css("margin-top",0)}else n(window).trigger("resize")});n(window).on("load resize",function(){var t,i,r;n(document).height()>n(window).height()?(t=n(".negativ-margin"),i=n(window).height()-n(document).height(),t.css("margin-top",i+"px")):(r=n(".negativ-margin"),r.css("margin-top",0))});n(window).trigger("load")})})(jQuery)}var tag=document.createElement("script"),firstScriptTag;tag.src="https://www.youtube.com/iframe_api";firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);